<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Amj Muzic â€” Canvas Lines</title>
<style>
html, body { margin:0; padding:0; height:100%; background:#000; overflow:hidden; }
canvas { display:block; }
.credit {
  position: fixed; left:12px; top:12px;
  color: rgba(255,255,255,0.85);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-size: 13px;
  text-decoration:none;
  background: rgba(0,0,0,0.25);
  padding:6px 8px;
  border-radius:6px;
  backdrop-filter: blur(4px);
  z-index:9999;
}
</style>
</head>
<body>
<a class="credit" href="https://amj-muzic.github.io" target="_blank">Amj Muzic</a>
<canvas id="c"></canvas>
<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let width = window.innerWidth;
let height = window.innerHeight;

// Make it fully mobile-friendly
function resize() {
  width = window.innerWidth;
  height = window.innerHeight;
  canvas.width = width * window.devicePixelRatio;
  canvas.height = height * window.devicePixelRatio;
  ctx.setTransform(1,0,0,1,0,0);
  ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
}
window.addEventListener('resize', resize);
resize();

let pointer = {x: width/2, y: height/2};
let lastMove = Date.now();
let ribbons = [];
const NUM = 20;

for(let i=0;i<NUM;i++){
  ribbons.push({points:[], hue:Math.random()*360, speed:0.1 + Math.random()*0.6, width:1 + Math.random()*2, phase:Math.random()*Math.PI*2});
}

function updatePointer(x,y){
  pointer.x += (x - pointer.x) * 0.2;
  pointer.y += (y - pointer.y) * 0.2;
}

window.addEventListener('mousemove', e=>{updatePointer(e.clientX, e.clientY); lastMove=Date.now();});
window.addEventListener('touchmove', e=>{ 
  if(e.touches[0]){
    updatePointer(e.touches[0].clientX, e.touches[0].clientY); 
    lastMove=Date.now();
  }
}, {passive:true});

let t=0;
function animate(){
  t+=0.016;
  ctx.fillStyle='rgba(0,0,0,0.06)';
  ctx.fillRect(0,0,width,height);
  ctx.globalCompositeOperation='lighter';

  if(Date.now()-lastMove>2000){
    let cx=width/2, cy=height/2, r=Math.min(width,height)*0.18;
    let ang = Date.now()/4200;
    updatePointer(cx + Math.cos(ang)*r, cy + Math.sin(ang)*r);
  }

  for(let i=0;i<ribbons.length;i++){
    let r=ribbons[i];
    let px = pointer.x + Math.cos(t*(0.6+r.speed*0.5)+r.phase)*(30+i*1.6);
    let py = pointer.y + Math.sin(t*(0.5+r.speed*0.4)+r.phase)*(30+i*1.1);
    r.points.push({x:px,y:py});
    while(r.points.length>36+i*2) r.points.shift();

    ctx.lineWidth=r.width;
    let baseHue=(r.hue+t*8+i*5)%360;
    for(let s=0;s<r.points.length-1;s++){
      let p1=r.points[s], p2=r.points[s+1], alpha=Math.pow(s/r.points.length,1.6);
      ctx.strokeStyle=`hsla(${(baseHue+s*1.6)%360},88%,55%,${0.95*alpha})`;
      ctx.beginPath();
      let cx=(p1.x+p2.x)/2, cy=(p1.y+p2.y)/2;
      ctx.moveTo(p1.x,p1.y);
      ctx.quadraticCurveTo(cx,cy,p2.x,p2.y);
      ctx.stroke();
    }
  }
  ctx.globalCompositeOperation='source-over';
  requestAnimationFrame(animate);
}
requestAnimationFrame(animate);
</script>
</body>
</html>
