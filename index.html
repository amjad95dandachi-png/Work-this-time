<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Amj Muzic â€” Animated Ribbons</title>
<style>
html, body { margin:0; padding:0; height:100%; background:#000; overflow:hidden; }
canvas { display:block; }
.credit {
  position: fixed; left:12px; top:12px;
  color: rgba(255,255,255,0.85);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  font-size: 13px;
  text-decoration:none;
  background: rgba(0,0,0,0.25);
  padding:6px 8px;
  border-radius:6px;
  backdrop-filter: blur(4px);
  z-index:9999;
}
</style>
</head>
<body>
<a class="credit" href="https://amj-muzic.github.io" target="_blank">Amj Muzic</a>
<canvas id="c"></canvas>
<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let width = window.innerWidth;
let height = window.innerHeight;

function resize() {
  width = window.innerWidth;
  height = window.innerHeight;
  canvas.width = width * window.devicePixelRatio;
  canvas.height = height * window.devicePixelRatio;
  ctx.setTransform(1,0,0,1,0,0);
  ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
}
window.addEventListener('resize', resize);
resize();

// Pointer and animation
let pointer = {x: width/2, y: height/2};
let lastMove = Date.now();

// Ribbon configuration
const NUM_RIBBONS = 30;
const ribbons = [];

for(let i=0;i<NUM_RIBBONS;i++){
  ribbons.push({
    points: [],
    hue: Math.random()*360,
    speed: 0.05 + Math.random()*0.5,
    width: 1 + Math.random()*2.5,
    phase: Math.random()*Math.PI*2,
    sway: Math.random()*50+20
  });
}

function updatePointer(x,y){
  pointer.x += (x - pointer.x) * 0.15;
  pointer.y += (y - pointer.y) * 0.15;
}

window.addEventListener('mousemove', e=>{ updatePointer(e.clientX, e.clientY); lastMove=Date.now(); });
window.addEventListener('touchmove', e=>{
  if(e.touches[0]){ updatePointer(e.touches[0].clientX,e.touches[0].clientY); lastMove=Date.now(); }
}, {passive:true});

let t=0;

function animate(){
  t += 0.016;
  ctx.fillStyle = 'rgba(0,0,0,0.05)';
  ctx.fillRect(0,0,width,height);
  ctx.globalCompositeOperation = 'lighter';

  // Automatic movement if idle
  if(Date.now()-lastMove>2000){
    let cx = width/2, cy = height/2, r = Math.min(width,height)*0.25;
    let ang = Date.now()/5000;
    updatePointer(cx + Math.cos(ang)*r, cy + Math.sin(ang)*r);
  }

  for(let i=0;i<ribbons.length;i++){
    let r = ribbons[i];
    let px = pointer.x + Math.cos(t*(0.6+r.speed*0.6)+r.phase)*(r.sway+i*1.5);
    let py = pointer.y + Math.sin(t*(0.5+r.speed*0.4)+r.phase)*(r.sway/2+i*1.2);
    r.points.push({x:px, y:py});
    while(r.points.length > 40 + i*1.5) r.points.shift();

    ctx.lineWidth = r.width;
    let baseHue = (r.hue + t*12 + i*4) % 360;
    for(let s=0;s<r.points.length-1;s++){
      let p1 = r.points[s], p2 = r.points[s+1];
      let alpha = Math.pow(s/r.points.length, 1.7);
      ctx.strokeStyle = `hsla(${(baseHue+s*1.5)%360},90%,55%,${0.85*alpha})`;
      ctx.beginPath();
      let cx = (p1.x+p2.x)/2, cy = (p1.y+p2.y)/2;
      ctx.moveTo(p1.x,p1.y);
      ctx.quadraticCurveTo(cx,cy,p2.x,p2.y);
      ctx.stroke();
    }
  }

  ctx.globalCompositeOperation = 'source-over';
  requestAnimationFrame(animate);
}

requestAnimationFrame(animate);
</script>
</body>
</html>
